<html>
<head>
  <title>Address Book</title>
</head>
<body>

  <script type="text/x-handlebars" data-template-name="application">
    <header>
      <h1>Address Book</h1>
    </header>

    <section>
      {{outlet}}
    </section>
  </script>

  <!-- underscore to signify partial, just like in rails -->
  <script type="text/x-handlebars" data-template-name="_new_contact">
    <h3>Add a Contact</h3>
    First: <br />
    {{view Ember.TextField valueBinding="first"}}<br />
    Last: <br />
    {{view Ember.TextField valueBinding="last"}}<br />
    Phone: <br />
    {{view Ember.TextField valueBinding="phone"}}<br />
    <button {{action "createContact"}}>Save</button>
  </script>


  <script type="text/x-handlebars" data-template-name="contacts">
    {{controller}}
    <p>
      ^-- Proof we have a contacts (plural) controller generated by default<br />
      Which changes to "App.ContactsController:ember239" when we have our own
    </p>

    {{partial "new_contact"}}

    <p>
      {{countContacts}} {{contactInflection}}
    </p>

    <h3>Contacts</h3>
    <table border="1">
      {{#each controller itemController="contact"}}
        <tr>
          {{#if isEditing}}
            <td>{{view Ember.TextField valueBinding="first"}}</td>
            <td>{{view Ember.TextField valueBinding="last"}}</td>
            <td>{{view Ember.TextField valueBinding="phone"}}</td>
            <td><button {{action "saveContact"}}>Save</button></td>
          {{else}}
          <td>
            <div {{action "editContact" on="doubleClick"}}>
              {{first}}
            </div>
          </td>
          <td>
            <div {{action "editContact" on="doubleClick"}}>
              {{last}}
            </div>
          </td>
          <td>
            <div {{action "editContact" on="doubleClick"}}>
              {{phone}}
            </div>
          </td>
          <td>
            <button {{action "deleteContact"}}>Delete</button>
          </td>
          {{/if}}
        </tr>
      {{/each}}
    </table>
  </script>

  <script src="./libs/jquery-1.9.1.js"></script>
  <script src="./libs/handlebars-1.0.0-rc.4.js"></script>
  <script src="./libs/ember-1.0.0-rc.6.1.js"></script>
  <script src="./libs/ember-data-0.13.js"></script>

  <script src="./js/script.js"></script>
</body>
</html>
